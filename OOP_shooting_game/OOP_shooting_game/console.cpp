
#pragma once

#include "stdafx.h"

#include <iostream>
using namespace std;

#include <windows.h>

#include "console.h"


//------------------------------------------------------------------------------
//	전역 핸들 선언 
//------------------------------------------------------------------------------
HANDLE hConsole;



//------------------------------------------------------------------------------
//		*함수 정의부*
//------------------------------------------------------------------------------


//------------------------------------------------------------------------------
//	콘솔 제어 위한 준비 작업
//------------------------------------------------------------------------------
void cs_Initial(void)
{
	//------------------------------------------------------------------------------
	//	콘솔 창 크기 설정
	//------------------------------------------------------------------------------
	system("mode con: cols=75 lines=28");

	//------------------------------------------------------------------------------
	//	콘솔 제목 설정
	//------------------------------------------------------------------------------
	system("title 웰컴 투 규태 인베이더 월드!!");

	CONSOLE_CURSOR_INFO stConsoleCursor;
	//------------------------------------------------------------------------------
	//	화면 커서 안보이게 설정
	//------------------------------------------------------------------------------
	stConsoleCursor.bVisible = FALSE;
	stConsoleCursor.dwSize = 1; //커서 크기 1

	//------------------------------------------------------------------------------
	//	콘솔화면(스텐다드 아웃풋) 핸들을 구한다
	//------------------------------------------------------------------------------
	hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
	SetConsoleCursorInfo(hConsole, &stConsoleCursor);//커서 세팅

}


//------------------------------------------------------------------------------
//	콘솔 화면의 커서를 X, Y 좌표로 이동시킨다
//------------------------------------------------------------------------------
void cs_MoveCursor(int iPosX, int iPosY)
{
	COORD stCoord;
	stCoord.X = iPosX;
	stCoord.Y = iPosY;

	SetConsoleCursorPosition(hConsole, stCoord);
}


//------------------------------------------------------------------------------
//	콘솔 화면 초기화
//------------------------------------------------------------------------------
void cs_ClearScreen(void)
{

	for (int y = 0; y < SIZE_PLAY_SCREEN::PLAY_SCREEN_HEIGHT + 20; y++)
	{
		for (int x = 0; x < SIZE_PLAY_SCREEN::PLAY_SCREEN_WIDTH; x++)
		{
			cs_MoveCursor(x, y);
			printf(" ");

		}
	}

}